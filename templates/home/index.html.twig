{% extends '@SyliusUi/Layout/sidebar.html.twig' %}

{% block title %}
    Home
{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    {{ encore_entry_link_tags('app', null, 'shop') }}
{% endblock %}

{% block content %}
    <div class="container">
        <header>
            <div class="form-inline mt-4">
                <div class="row">
                    <div class="col-9">
                        <input type="text" name="q" id="q" class="form-control" placeholder="Search a product ..." required="true">
                    </div>
                    <div class="col-3">
                        {{ button('Search', 'success fw-bolder', 'search', 'submit') }}
                    </div>
                </div>
            </div>
        </header>
        <main>
            <h1>Products</h1>
            <div class="row">
                {% for product in products %}
                    <div class="col">
                        {{ _self.product(product) }}
                    </div>
                {% else %}
                    <h1>No Products Found</h1>
                {% endfor %}
            </div>
        </main>
    </div>
{% endblock %}

{% macro product(product) %}
    <div class="card">
        <div class="card-header">
            <div class="card-title">
                <h3 class="card-label">
                    {{  product.name }}
                    $<span class="badge bg-primary">
                        {{ product.price }}
                    </span>
                </h3>
            </div>
        </div>
        <div class="card-body">
            <div class="card-image">
                <img src="{{ product.image }}" alt="{{ product.name }}" class="product-image" width="100%" height="100%">
            </div>
            <div class="card-content">
                {{ product.description }}
            </div>
        </div>
        <div class="card-footer">
            {{ product.category }}
        </div>
    </div>
{% endmacro %}

{% block javascripts %}
    {{ parent() }}
    {{ encore_entry_script_tags('app', null, 'shop') }}
{% endblock %}